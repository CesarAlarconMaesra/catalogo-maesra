<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cat치logo MAESRA Febrero 2026</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#1f2937">

<button id="btnPrecio" style="margin-top:5px;">
  游댏 Ver precios
</button>
<button onclick="ocultarPrecios()">
  游뗻 Ocultar precios
</button>
<button onclick="verCarrito()">游 Ver carrito</button>
</head>
<div id="infoLista" style="padding:8px; font-weight:bold;">
  游늵 Lista activa: LP4
</div>
<body>

<header>
  <h1>Cat치logo MAESRA  Febrero 2026</h1>
  <input type="text" id="buscador" placeholder="Buscar producto..." />
</header>

<main id="listaProductos"></main>

<!-- Modal detalle -->
<div id="modal" class="modal oculto">
  <div class="modal-content">
<p id="dPrecio" class="precio"></p>
    <span id="cerrar">&times;</span>
   <img id="dImagen" class="detalle-img" />
    <h2 id="dNombre"></h2>
    <p id="dCodigo"></p>
    <p id="dMarca"></p>
    <p id="dUnidad"></p>
    <p id="dMaster"></p>
    <p id="dInner"></p>
    <p id="dPrecio"></p>
    <button id="btnAgregarCarrito">游 Agregar al carrito</button>

  </div>
</div>
<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js")
      .then(() => console.log("Service Worker registrado"))
      .catch(err => console.log("Error SW:", err));
  }
</script>
<script src="app.js"></script>
function verCarrito() {

  if (carrito.length === 0) {
    alert("El carrito est치 vac칤o");
    return;
  }

  let mensaje = "游 *Pedido MAESRA* %0A%0A";
  let total = 0;

  carrito.forEach(p => {
    let subtotal = p.precio * p.cantidad;
    total += subtotal;

    mensaje += `${p.producto} %0A`;
    mensaje += `C칩digo: ${p.codigo} %0A`;
    mensaje += `Cantidad: ${p.cantidad} %0A`;
    mensaje += `Subtotal: $${subtotal.toFixed(2)} %0A%0A`;
  });

  mensaje += `*TOTAL: $${total.toFixed(2)}*`;

  const numero = "5216565292879"; // 游녣 TU n칰mero con lada pa칤s
  const url = `https://wa.me/${numero}?text=${mensaje}`;

  window.open(url, "_blank");
}
</body>
</html>